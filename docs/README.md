# 미션 - 자판기

## 자판기 이용법
1. 자판기가 보유한 금액을 입력하고 상품을 등록한다.
2. 자판기에 금액을 투입한다.
3. 상품을 구매한다.
4. 상품을 구매할 수 없다면 잔돈을 돌려받는다.

## 미리보기
![image](https://user-images.githubusercontent.com/30515636/145872077-14aa539b-554f-4182-a6e5-27f5b52aff2e.png)

자판기가 충분한 잔액을 보유하지 않은 경우 보유한 금액만 돌려받을 수 있다.

![image](https://user-images.githubusercontent.com/30515636/145873363-ac3ed2d8-d875-42f6-8a88-8abfac5d20bf.png)



## 🧋기능 구현 목록
### Domain - RandomCoinGenerator: 코인생성기
- ✅ 보유한 금액으로 만들 수 있는 잔돈 목록을 구한다.
- ✅ 보유한 금액으로 만들 수 있는 동전목록을 구해서 임의의 동전을 반환한다.

### Domain - Coin: 동전
- ✅ 금액과 일치하는 동전을 가져온다.
- ✅ [예외]금액과 일치하는 동전이 존재하는지 검증한다.
- ✅ 특정 금액보다 작은 동전들을 구한다.
- ✅ 동전을 가격이 큰 순서대로 정렬해 목록을 반환한다.
- ✅ 동전의 금액을 반환한다.
- ✅ 특정금액을 동전으로 만들 수 있는 개수와, 임의의 개수 중 작은것을 반환한다.

### Domain - Coins: 동전들
- ✅ 보유한 동전들의 가격과 개수를 구한다.
- ✅ 동전을 추가한다.
- ✅ 현재 보유한 동전들로 잔돈을 반환한다.
- ✅ 잔돈을 반환할 때, 내어준 개수만큼 동전을 차감한다.
- ✅ 동전의 수량이 없다면 제거한다.

### Domain - Quantity: 수량
- ✅ 수량을 올리거나 내릴 수 있어야한다.
- ✅ [예외]수량이 최소값 0보다 작거나 int의 최대값일 경우를 검증한다.
- ✅ 수량이 0인지 확인해야한다.
- ✅ 수량이 문자열인 경우 정수로 변환하는 것을 검증한다.
- ✅ 수량을 올리거나 내린다.
- ✅ [예외] 수량이 int 범위에 있는지 검증한다.
- ✅ [예외] 수량을 올리거나 내릴 수 있는지 검증한다.
- ✅ 현재 수량을 반환한다.
- ✅ 수량이 최대값인지 구한다.
- ✅ 수량이 최소값인지 구한다.

### ProductDto: 사용자의 input을 Product로 변환
- ✅ 입력된 상품들을 세미콜론(;)을 기준으로 분리한다.
- ✅ 상품을 쉼표(,)를 기준으로 상품명, 가격, 수량으로 분리한다.
- ✅ 상품을 모아 상품들을 구한다.
- ✅ 상품명, 가격, 수량으로 상품을 생성한다.
- ✅ [예외]상품 가격이 100 이상인 양의 정수인지 검증한다.
- ✅ [예외]상품 가격이 최소 단위 10원으로 나눠지는지 검증한다.
- ✅ [예외]상품 수량이 0이상인 양의 정수인지 검증한다.
- ✅ [예외]상품이 "["로 시작하고 "]"로 끝나는지 검증한다.
- ✅ [예외]상품의 구성요소 이름, 가격, 수량이 올바르게 들어왔는지 검증한다.
- ✅ [예외]상품이 최소 1개 이상 들어왔는지 검증한다.

### Domain - Money: 돈
- ✅ [예외]보유 금액(동전)이 0 이상인 양의 정수인지 검증한다.
- ✅ [예외]보유 금액이 최소 단위 10원으로 나눠지는지 검증한다.
- ✅ [예외]보유 금액이 특정 금액을 지불할 수 있는지 검증한다.
- ✅ 자신의 금액에서 특정 금액을 지불한다.
- ✅ 자신의 금액이 0원인지 확인한다.
- ✅ 자신의 금액에서 특정 금액을 벌어들인다.
- ✅ [예외]금액이 특정 금액을 벌 수 있는지 검증한다.
- ✅ 현재 금액을 반환한다.

### Domain - VendingMachine: 자판기
- ✅ 보유금액과 상품들, 투입금액을 가지는 자판기를 생성한다.
- ✅ 상품을 추가한다.
- ✅ 보유 동전을 추가한다.
- ✅ 투입금액을 추가한다.
- ✅ 현재 남아있는 투입 금액을 구한다.
- ✅ 잔돈을 구한다.
- ✅ 구매할 상품이 존재하는지 여부를 구한다.
- ✅ 구매할 상품이 존재할 때 투입금액에서 차감하고 구매한다.

### Domain - Products: 상품들
- ✅ 상품을 그룹화하여 관리한다.
- ✅ [예외]구매할 상품이 존재하는지 검증한다.
- ✅ [예외]상품을 입력할 때, 중복되는지 겸증한다.
- ✅ 구매할 수 있는 상품이 존재하는지 여부를 구한다.
  - 보유금액으로 살 수 있는 상품이 1개라도 존재하는지 확인한다.
- ✅ 구매할 상품명과 일치하는 상품이 있다면 재고를 감소시키고 가격을 반환한다.

### Domain - Products: 상품
- ✅ 재고를 감소시킨다.
- ✅ [예외] 상품 금액이 최소금액 100원보다 큰지 검증한다.
- ✅ [예외] 상품명이 비어있지 않은지 검증한다.
- ✅ 상품의 이름을 반환한다.
- ✅ 상품의 금액을 반환한다.
- ✅ 상품을 구매할 수 있는지 여부를 구한다.


### Service
- ✅ 생성된 상품 목록을 자판기에 저장한다.
- ✅ 투입 금액을 생성하여 자판기에 저장한다.
- ✅ 보유한 동전으로 잔돈을 생성하고, 보유 동전 개수를 감소 시킨 후 잔돈을 반환한다.

### Controller
- ✅ 뷰에서 전달받은 보유금액을 잔돈으로 만들어 자판기에 추가 후, 반환한다.
- ✅ 뷰에서 전달받은 상품들을 자판기에 추가한다.
- ✅ 뷰에서 전달받은 투입금액을 자판기에 투입한다.
- ✅ 뷰에서 전달받은 상품을 자판기에서 구매한다.
- ✅ 현재 남아있는 투입 금액을 뷰로 반환한다.
- ✅ 상품을 더 구매할 수 있는지 여부를 뷰로 반환한다.
- ✅ 남은 잔돈을 뷰로 반환한다.

### View
- ✅ 뷰의 상태를 나타낼 수 있도록 구현한다.
- ✅ 모든 뷰들의 공통 기능을 구현한다.
- ✅ 보유금액을 입력하는 자판기 초기화 뷰를 생성한다.
- ✅ 상품목록을 입력하는 상품 초기화 뷰를 생성한다.
- ✅ 투입 금액을 입력할 수 있는 뷰를 생성한다.
- ✅ 상품 구매를 할 수 있는 뷰를 생성한다.
- ✅ 잔돈을 반환할 수 있는 뷰를 생성한다.
- ✅ Processor를 이용해 입출력을 구현한다. 

### Processor
- ✅ 보유금액을 입력받을 수 있도록 구현한다.
- ✅ 상품목록을 입력받을 수 있도록 구현한다.
- ✅ 투입 금액을 입력받을 수 있도록 구현한다.
- ✅ 구매할 상품명을 입력받을 수 있도록 구현한다.
- ✅ 타입별로 적절하게 출력할 수 있게 구현한다.

### Constant
- ✅ 상수화된 예외 메시지들을 열거타입으로 구현한다.

### Exception
- ✅ 특정 도메인을 찾을 수 없을 때 사용할 예외를 생성한다.
- ✅ 범위를 초과했을 때 사용할 예외를 생성한다.

### Application
- ✅ 전체 뷰를 볼 수 있도록 연동 후, 컨트롤러를 등록하여 사용한다.
